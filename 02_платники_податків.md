[Реєстр платників податку на додану вартість](https://data.gov.ua/dataset/db391c93-1e68-43c9-bd85-7c6a8427b114)
==

Об'єкти та суб'єкти
---

- Суб'єкти-позпорядники: Мінфін, ДФС, ДПС
- Технічний адміністратор: Податкова служба
- Об'єкти: Платники податків

Обсяг інформації про об'єкти набору
---

Інформація про платників податку на додану вартість є частиною даних про взяття на облік платників податків.

Обсяг інформації, що збирається урядом про платників податків регулюється [Порядком обліку платників податків і зборів](https://zakon.rada.gov.ua/laws/show/z1562-11#n21). Він визначає такі складові:

- Єдиний банк даних про платників податків - юридичних осіб
  - реєстр платників податків - нерезидентів
  - реєстр договорів про спільну діяльність
  - реєстр договорів управління майном
  - реєстр угод про розподіл продукції
- Реєстр неприбуткових організацій і установ
- Державний реєстр фізичних осіб - платників податків
  - реєстр самозайнятих осіб 

Таким чином, інформація про платників податку на додану вартість є вибіркою з двох реєстрів:
банку даних юридичних осіб та реєстру самозайнятих осіб.

Об'єкти та інформаційні системи розпорядника
---

- [Електронний кабінет платника](https://cabinet.sfs.gov.ua/registers)
  - Дані про взяття на облік платників податків
  - Довідка про відсутність заборгованості
  - Інформація про книги ОРО
  - Реєстр заяв про розстрочення, відстрочення грошового зобов'язання чи податкового боргу
  - Реєстр страхувальників
  - Єдиний реєстр індивідуальних податкових консультацій
  - Дані реєстру платників ПДВ
  - Фіскальні чеки
  - Реєстр платників єдиного податку
  - Дані Реєстру отримувачів бюджетної дотації
  - Тимчасовий реєстр заяв про повернення суми бюджетного відшкодування, поданих до 1 лютого 2016 року, за якими станом на 1 січня 2017 року суми податку на додану вартість не відшкодовані з бюджету
  - Екземпляри РРО
  - Реєстр платників акцизного податку з реалізації пального та спирту етилового
  - Реєстр неприбуткових установ та організацій
  - Система обліку публічної інформації
  - Реєстр ЦСО
  - Реєстр осіб, які здійснюють операції з товарами
  - Інформація про РРО
  - РЕЄСТР податкових накладних / розрахунків коригування, реєстрація яких зупинена
- Визначені у переліку, затвердженому постановою 835

Процес публікації набору (оновлюваність)
---

З 2016 по середину 2017 набір публікувався [на сайті ДФС у відповідному розділі](http://sfs.gov.ua/priymalnya-gromadyan/dostup-do-publichnoi-inform/vidkriti-dani/reestr-platnikiv-pdv/reestrpdv)

З кінця 2016 по середину 2018 набір публікувався на старому порталі відкритих даних: [частина 1](http://old.data.gov.ua/passport/8d9f0dee-f06a-4a2f-9aab-4d1f0da5611c), [частина 2](http://old.data.gov.ua/passport/2264ff14-24ec-41c1-a803-6a6daa87f667)

З середини 2018 по середину 2019 року реєстр публікувався [на новому порталі відкритих даних](https://data.gov.ua/dataset/db391c93-1e68-43c9-bd85-7c6a8427b114). 

З лютого 2019[[1]](http://sfs.gov.ua/media-tsentr/novini/369735.html) актуальний набір даних можна завантажити [з відповідної сторінки веб-порталу ДФС](https://cabinet.sfs.gov.ua/registers/pdv), який став єдиним місцем публікації з вересня 2019 року.


Обсяг інформації опублікованого набору
---

Набір даних, [опублікований на порталі ДФС](https://cabinet.sfs.gov.ua/ws/api/public/registers/export/pdv), має таку структуру/поля:

```
name
kod_pdv
dat_reestr
dat_anul
c_anul
c_oper
d_reestr_sg
kved
d_anul_sg
d_pdv_sg
```

Завантаження опублікованого набору
---

Команда для завантаження актуальної версії реєстру платників ПДВ
```
wget --content-disposition https://cabinet.sfs.gov.ua/ws/api/public/registers/export/pdv
```

Результат виконання команди:

```
--2019-09-22 20:46:29--  https://cabinet.sfs.gov.ua/ws/api/public/registers/export/pdv
Resolving cabinet.sfs.gov.ua (cabinet.sfs.gov.ua)... 80.91.165.206
Connecting to cabinet.sfs.gov.ua (cabinet.sfs.gov.ua)|80.91.165.206|:443... connected.
HTTP request sent, awaiting response... 200 
Length: 57934513 (55M) [application/zip]
Saving to: ‘pdv_2019.09.22.zip’

pdv_2019.09.22.zip 100%[===================>]  55,25M  5,89MB/s    in 9,4s    

2019-09-22 20:46:39 (5,86 MB/s) - ‘pdv_2019.09.22.zip’ saved [57934513/57934513]

$ ls -1 pdf*
pdv_2019.09.22.zip
```

Можливість завантаження набору однією командою: так.

Доступність для читання без втручання людини
---

*Команди для показу першого/останнього елементу набору*

```
$ unzip -l pdv_2019.09.22.zip 
```
Список файлів архіву:
```
Archive:  pdv_2019.09.22.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
617705013  2019-09-22 15:41   pdv.csv
---------                     -------
617705013                     1 file
```

Перший елемент набору:

```
$ unzip -p pdv_2019.09.22.zip pdv.csv | tail -1

"ВИНОГРАДЕНКО ВОЛОДИМИР ПЕТРОВИЧ";2459119114;2007-05-29;2007-10-05;"Пп. "в" п. 184.1 ст.184 Кодексу, частина друга ст. 6 Указу - особа реєструється як платник єдиного податку, умова сплати якого не передбачає сплати податку на додану вартiсть";"Анульовано за iнiцiативою платника";;;;;
```

Останній елемент набору:

```
$ unzip -p pdv_2019.09.22.zip pdv.csv | head -2 | tail -1

"БОЛОХОНОВ ВАСИЛЬ ВАСИЛЬОВИЧ";1485512135;1998-04-03;2004-10-15;"Пп. "б" п. 9.8 ст. 9 Закону - лiквiдацiя за власним бажанням (прийняття рiшення фiзичною особою про припинення пiдприємницької дiяльностi)";;;;;;
```

Етапи для показу окремого елементу набору:

- визначення імен файлів в архіві
- декомпресія та показ кожного файлу
- пошук необхідного елементу

Мінімальна кількість команд для показу першого та останнього елементу набору: 2

- команда декомпресії та визначення елементів набору: `unzip`
- команда пошуку необхідного елементу набору: `tail/head/grep`

*Команда для показу окремих полів окремого елементу набору*

Визначення імені та номеру необхідного поля:

```
$ unzip -p pdv_2019.09.22.zip pdv.csv |head -1

name;kod_pdv;dat_reestr;dat_anul;c_anul;c_oper;d_reestr_sg;kved;d_anul_sg;d_pdv_sg;
```

Визначимо код та дату взяття на облік компанії 'ТОВ "ФОЗЗІ"'.

```
unzip -p pdv_2019.09.22.zip pdv.csv |grep "ФОЗЗІ"|head -1|cut -f 1,2,3 -d ';' 

"ТОВАРИСТВО З ОБМЕЖЕНОЮ ВIДПОВIДАЛЬНIСТЮ "ФОЗЗІ"";252940810136;1997-12-05
```

Кількість команд для виокремлення полів: 4

- команда декомпресії та визначення елементів набору (unzip)
- команда визначення імені та номеру необхідного поля (head)
- команда пошуку необхідного елементу набору (grep)
- команда виокремлення поля (cut)